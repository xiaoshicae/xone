# 模块代码审查

对指定模块进行代码审查，分析潜在的优化点。

使用方法: /review <模块名>

示例:
- /review xhttp
- /review xgorm

$ARGUMENTS

---

请对 `$ARGUMENTS` 模块进行代码审查，分析以下方面：

## 1. 执行静态分析

```bash
go vet ./$ARGUMENTS/...
go test -gcflags="all=-N -l" ./$ARGUMENTS/... -v
```

## 2. 逐文件审查

### 正确性
- 逻辑错误、边界条件、空指针
- 错误处理是否完整

### 性能
- 是否有不必要的内存分配
- 是否有可以预编译的正则表达式
- 是否有可以缓存的计算结果

### 并发安全
- 全局变量是否有适当的锁保护
- 是否存在竞态条件

### 代码质量
- 是否有重复代码可以提取
- 是否有 magic string/number 应该提取为常量
- 错误处理是否一致

### API 设计
- 是否缺少必要的公开 API
- 是否与其他模块保持一致（如使用 xutil.ToDuration）

## 3. 生成审查报告

以表格形式输出发现的问题和建议，按优先级排列：
- P0：必须修复（错误、安全问题）
- P1：建议修复（性能、并发安全）
- P2：可选优化（代码质量、风格）